/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C2*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
create table Mail (id integer generated by default as identity (start with 1), code varchar(255), lienPad varchar(255), lienPause varchar(255), primary key (id))
create table Participant (email varchar(255) not null, allergie varchar(255), nom varchar(255), preferenceAlim varchar(255), prenom varchar(255), primary key (email))
create table Participant_Mail (participant_email varchar(255) not null, mails_id integer not null)
create table Participant_Reunion (participants_email varchar(255) not null, reunions_id integer not null)
create table Propositions (id integer generated by default as identity (start with 1), date timestamp, sondage_id integer, primary key (id))
create table ReponseSondage (id integer generated by default as identity (start with 1), email varchar(255), nom varchar(255), prenom varchar(255), sondage_id integer, primary key (id))
create table Reunion (id integer generated by default as identity (start with 1), date timestamp, intitule varchar(255), resume varchar(255), mail_id integer, primary key (id))
create table Sondage (id integer generated by default as identity (start with 1), lienWeb varchar(255), creat_email varchar(255), primary key (id))
alter table Participant_Mail add constraint FK_dfmxnarayho17kal8wycs6fdm foreign key (mails_id) references Mail
alter table Participant_Mail add constraint FK_s0o16eocua16g26kr9vrquqy8 foreign key (participant_email) references Participant
alter table Participant_Reunion add constraint FK_byate9ydusett6vytc1wp8kqx foreign key (reunions_id) references Reunion
alter table Participant_Reunion add constraint FK_1em01h55j1m15jfq08icf03xr foreign key (participants_email) references Participant
alter table Propositions add constraint FK_kvn1wfeqgqaa9ulg0qoosh39d foreign key (sondage_id) references Sondage
alter table ReponseSondage add constraint FK_cx08ybm64ye4xr64lypyv03nl foreign key (sondage_id) references Sondage
alter table Reunion add constraint FK_crpu84u1ew62ejlxg0vwiskkp foreign key (mail_id) references Mail
alter table Sondage add constraint FK_97ft4jcwurecrr98ewmu2vp4w foreign key (creat_email) references Participant
INSERT INTO PARTICIPANT VALUES('exemple@ex.com','gluten','exemple',NULL,'test')
INSERT INTO MAIL VALUES(1,NULL,NULL,NULL)
INSERT INTO REUNION VALUES(1,NULL,'reunion1','plan de deconfinement',1)
INSERT INTO MAIL VALUES(2,NULL,NULL,NULL)
INSERT INTO REUNION VALUES(2,NULL,'reunion2','',2)
INSERT INTO SONDAGE VALUES(1,'oui.lien','exemple@ex.com')
INSERT INTO PROPOSITIONS VALUES(1,'2020-05-09 13:05:10.185000',1)
COMMIT
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
DISCONNECT
